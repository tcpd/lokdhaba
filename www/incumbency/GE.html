<!DOCTYPE html>
<html>

  <head>
    <title>Incumbency in the Lok Sabha</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro|Montserrat" rel="stylesheet">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.5.2/randomColor.min.js"></script>
    <script data-require="d3@4.0.0" data-semver="4.0.0" src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="https://rawgit.com/susielu/d3-legend/master/d3-legend.min.js"></script>
<style>

    .profile-pic { height:100px; position:relative; opacity: 1.0;}
    select { height: 30px;}
    input { height: 30px; }
    .controls { background-color: #f8f8f8; padding: 20px;}
    .lost { color: gray; }

    div.tooltip {   
          position: absolute;           
          text-align: left;                           
          padding: 8px;             
          font: 1vw 'Source Sans Pro';
          color: white;      
          background: black;   
          border: 0px; 
          border-color: black;     
          border-radius: 2px;           
          pointer-events: none;         
}

      .axis path,
        .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
        }

      body, h1, .axis, .label, .d3-legend text, label {
        font-family: 'Source Sans Pro', Arial, Helvetica, sans-serif;
      }
        .axis text {
            font-size: 20px;
        }

        .label {
          font-size: 15px;
        }

        .d3-legend text {
          font-size: 15px;
        }

        label, select {
            display: inline-block;
            width: 100px;
        }

        label {
            position: relative;
            top: -1.7em;
            left: 5px;
            text-align: center;
        }

        select {
            margin: 1.5em 0 0 -100px;
        }

    #viz { width: 1000px; margin:auto}
    div.header { width: 1000px; margin:auto; text-align:center;}
    div.help { width: 1000px; color: gray; font-size:90%; text-align:left;}
  .cand-name { font-size: 120%; color: #00a65a;}
    .bypoll { margin-left:5px; padding:0px 5px; background-color:yellow;color:black; font-size:80%;}

</style>
  </head>

  <body>

  <div class="header">
  <h1>Incumbency profile of the 17th Lok Sabha</h1>

      <div class="help">
          <i>About this visualization: Each box represents an MP elected in the 2019 general elections. The color of the box indicates the previous party of the MP.
              Only the most successful parties are shown; other parties are clubbed into "Other".

              Hover on a box to see more details such as constituency, year and position. Unsuccessful attempts are shown in grey.

              The number in the box is the total number of terms in which the person has been an MP, including the new term.
              Change the Label setting to see the number of terms contested instead.

              You can also change the Position setting to "All candidates" instead of just the winners. Squares indicate winners and circles indicate those who lost.
              To search for a person or constituency, type the name in the search box. <br/><br/><br/>

          </i>
      </div>

    <div class="controls">

      <label style="margin-left:20px;left:130px" for="search">Search</label>
    <input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" size="28" type = 'text' id = 'search' placeholder="Person or constituency name">

    <div style="display:none;">

    <label style="margin-left:20px" for="assemblies">Assembly</label>
    <select id = "assemblies">
      <option value=3>3rd Assembly</option>
      <option value=4>4th Assembly</option> 
      <option value=5>5th Assembly</option>
      <option value=6>6th Assembly</option> 
      <option value=7>7th Assembly</option> 
      <option value=8>8th Assembly</option>
      <option value=9>9th Assembly</option>
      <option value=10>10th Assembly</option>
      <option value=11>11th Assembly</option>
      <option value=12>12th Assembly</option>
      <option value=13>13th Assembly</option>
      <option value=14>14th Assembly</option> 
      <option value=15>15th Assembly</option>
      <option value=16>16th Assembly</option> 
      <option value=17 selected="selected">17th Assembly</option>
  </select>
    </div>

  <label style="margin-left:20px" for="label">Label</label>
  <select id = "label" style="width:130px">
      <option value="NO_LABEL">No label</option>
      <option value="TIMES_WON" selected='selected'>Times Won</option>
      <option value="TIMES_CONTESTED">Times Contested</option>
  </select>

  <label style="margin-left:20px" for="wonlost">Position</label>
  <select id = "wonlost"> 
      <option value="1" selected="selected">Only winners</option>
      <option value="2" >All candidates</option>
      <!--<option value=2>Lost</option>-->
  </select>

    <div style="margin-left:20px;display:none;">
  <label for="turncoats">Turncoats</label>
  <select id = "turncoats">
      <option value="2" selected='selected'>All</option>
      <option value="1">Turncoats</option>
      <option value="0">Previously Contested</option>
  </select>
    </div>
    </div>

  </div>
    <div id="viz">
        <div class="tooltip" style="opacity:0"></div>
    </div>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
    <script src="incumbency.js"></script>

    <hr/>
    <div style="text-align:center;font-size:90%;color:gray">
        Visualization developed by Shivangi Tikekar and Sudheendra Hangal. <br/>Age data from <a target="_blank" href="//adrindia.org/">ADR</a>. Images from <a target="_blank" href="//prsindia.org">PRS</a> and Lok Sabha.<br/>
        &copy; <a target="_blank" href="//tcpd.ashoka.edu.in">Trivedi Center for Political Data</a>, <a target="_blank" href="//ashoka.edu.in">Ashoka University</a><br/>
    </div>
  </body>

</html>
